<html>
  <head>
    <meta charset="utf-8">
    <!--
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    
    <link rel="stylesheet" href="https://cdn.form.io/formiojs/formio.full.min.css">
    <script src="https://cdn.form.io/formiojs/formio.full.min.js"></script>
    <script type="text/javascript">
      var objForm = null;

      window.onload = function() {
        Formio.icons = 'fontawesome';
        // Formio.createForm(document.getElementById('formio'), 'https://examples.form.io/example');

        Formio.createForm(document.getElementById('formio'), {
          components: [{
              "label": "WONUM",
              "labelPosition": "top",
              "labelWidth": "",
              "labelMargin": "",
              "placeholder": "",
              "description": "",
              "tooltip": "",
              "prefix": "",
              "suffix": "",
              "widget": {
                  "type": "input"
              },
              "inputMask": "",
              "displayMask": "",
              "allowMultipleMasks": false,
              "customClass": "",
              "tabindex": "",
              "autocomplete": "",
              "hidden": false,
              "hideLabel": false,
              "showWordCount": false,
              "showCharCount": false,
              "mask": false,
              "autofocus": false,
              "spellcheck": true,
              "disabled": false,
              "tableView": true,
              "modalEdit": false,
              "multiple": false,
              "persistent": true,
              "inputFormat": "plain",
              "protected": false,
              "dbIndex": false,
              "case": "",
              "truncateMultipleSpaces": false,
              "encrypted": false,
              "redrawOn": "",
              "clearOnHide": true,
              "customDefaultValue": "",
              "calculateValue": "",
              "calculateServer": false,
              "allowCalculateOverride": false,
              "validateOn": "change",
              "validate": {
                  "required": false,
                  "minLength": "",
                  "maxLength": "",
                  "minWords": "",
                  "maxWords": "",
                  "pattern": "",
                  "customMessage": "",
                  "custom": "",
                  "customPrivate": false,
                  "json": "",
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
              },
              "unique": false,
              "errorLabel": "",
              "errors": "",
              "key": "wonum",
              "tags": [],
              "properties": {},
              "conditional": {
                  "show": null,
                  "when": null,
                  "eq": "",
                  "json": ""
              },
              "customConditional": "",
              "logic": [],
              "attributes": {},
              "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
              },
              "type": "textfield",
              "input": true,
              "refreshOn": "",
              "dataGridLabel": false,
              "addons": [],
              "inputType": "text",
              "id": "eic9rki",
              "defaultValue": null
          },
          {
              "label": "Location",
              "labelPosition": "top",
              "widget": "choicesjs",
              "labelWidth": "",
              "labelMargin": "",
              "placeholder": "",
              "description": "",
              "tooltip": "",
              "customClass": "",
              "tabindex": "",
              "hidden": false,
              "hideLabel": false,
              "uniqueOptions": false,
              "autofocus": false,
              "disabled": false,
              "tableView": true,
              "modalEdit": false,
              "multiple": false,
              "dataSrc": "url",
              "data": {
                  "values": [
                      {
                          "label": "",
                          "value": ""
                      }
                  ],
                  "resource": "",
                  "json": "",
                  "url": "http://124.222.21.115:3000/api/locations/?token=a32dd92e852b21f9bf794a8e26a9dcf69924ca9c50e3b1bb704cf57a29b6fe540cb84377c5847bb85a041724793e5b06883b96fe8e55713e&client_id=29",
                  "headers": [
                      {
                          "key": "",
                          "value": ""
                      }
                  ],
                  "custom": ""
              },
              "dataType": "",
              "idPath": "id",
              "valueProperty": "code",
              "limit": 100,
              "template": "<span>{{ item.description }}</span>",
              "refreshOn": "",
              "refreshOnBlur": "",
              "clearOnRefresh": false,
              "searchEnabled": true,
              "selectThreshold": 0.3,
              "readOnlyValue": false,
              "customOptions": {},
              "useExactSearch": false,
              "persistent": true,
              "protected": false,
              "dbIndex": false,
              "encrypted": false,
              "clearOnHide": true,
              "customDefaultValue": "",
              "calculateValue": "",
              "calculateServer": false,
              "allowCalculateOverride": false,
              "validateOn": "change",
              "validate": {
                  "required": false,
                  "onlyAvailableItems": false,
                  "customMessage": "",
                  "custom": "",
                  "customPrivate": false,
                  "json": "",
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
              },
              "unique": false,
              "errorLabel": "",
              "errors": "",
              "key": "location",
              "tags": [],
              "properties": {},
              "conditional": {
                  "show": null,
                  "when": null,
                  "eq": "",
                  "json": ""
              },
              "customConditional": "",
              "logic": [],
              "attributes": {},
              "overlay": {
                  "style": "",
                  "page": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
              },
              "type": "select",
              "indexeddb": {
                  "filter": {}
              },
              "lazyLoad": true,
              "selectFields": "",
              "disableLimit": false,
              "searchField": "",
              "searchDebounce": 0.3,
              "minSearch": 0,
              "filter": "",
              "authenticate": false,
              "ignoreCache": false,
              "redrawOn": "",
              "input": true,
              "prefix": "",
              "suffix": "",
              "dataGridLabel": false,
              "showCharCount": false,
              "showWordCount": false,
              "allowMultipleMasks": false,
              "addons": [],
              "fuseOptions": {
                  "include": "score",
                  "threshold": 0.3
              },
              "id": "egecv5n",
              "defaultValue": null
          },
          {
              "type": "button",
              "label": "Submit",
              "key": "submit",
              "size": "md",
              "block": false,
              "action": "submit",
              "disableOnInvalid": true,
              "theme": "primary",
              "input": true,
              "placeholder": "",
              "prefix": "",
              "customClass": "",
              "suffix": "",
              "multiple": false,
              "defaultValue": null,
              "protected": false,
              "unique": false,
              "persistent": false,
              "hidden": false,
              "clearOnHide": true,
              "refreshOn": "",
              "redrawOn": "",
              "tableView": false,
              "modalEdit": false,
              "dataGridLabel": true,
              "labelPosition": "top",
              "description": "",
              "errorLabel": "",
              "tooltip": "",
              "hideLabel": false,
              "tabindex": "",
              "disabled": false,
              "autofocus": false,
              "dbIndex": false,
              "customDefaultValue": "",
              "calculateValue": "",
              "calculateServer": false,
              "widget": {
                  "type": "input"
              },
              "attributes": {},
              "validateOn": "change",
              "validate": {
                  "required": false,
                  "custom": "",
                  "customPrivate": false,
                  "strictDateValidation": false,
                  "multiple": false,
                  "unique": false
              },
              "conditional": {
                  "show": null,
                  "when": null,
                  "eq": ""
              },
              "overlay": {
                  "style": "",
                  "left": "",
                  "top": "",
                  "width": "",
                  "height": ""
              },
              "allowCalculateOverride": false,
              "encrypted": false,
              "showCharCount": false,
              "showWordCount": false,
              "properties": {},
              "allowMultipleMasks": false,
              "addons": [],
              "leftIcon": "",
              "rightIcon": "",
              "id": "ejiw37w"
          }]
        }, {
          hooks: {
            beforeSubmit: (submission, next) => {
              console.log('submission: ', submission);
              console.log('submission: ', JSON.stringify(submission.data));
              // localStorage.setItem('currentData', JSON.stringify(submission.data);
              // next();
            }
          }
        }).then((form) => {
          objForm = form;

          form.submission = {
            data: {

            }
          };
        });
      };

      function test() {
        console.log(objForm);
        console.log('form: ', objForm.form);
        console.log('schema: ', objForm.schema);
        console.log(JSON.stringify(objForm.schema));
      }
    </script>
  </head>
  <body>
    <div><button onclick="test()">Test</button></div>
    <div id="formio"></div>
  </body>
</html>
